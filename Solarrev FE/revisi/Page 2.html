<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Page 2</title>
<link rel="stylesheet" type="text/css" id="applicationStylesheet" href="Page_2.css"/>
<script id="applicationScript" type="text/javascript" src="Page_2.js"></script>
</head>
<body onload="loadAllInfo()">
<div id="SECOND">
	<div id="ABOUT_US">
		<span>ABOUT US</span>
	</div>
	<div id="FAQ">
		<span>FAQ</span>
	</div>
	<img id="Rectangle_183" src="" width="1250" height="448">
	<svg class="Rectangle_184">
		<rect fill="rgba(201,201,201,1)" stroke="rgba(112,112,112,0.4)" stroke-width="1px" stroke-linejoin="miter" stroke-linecap="butt" stroke-miterlimit="4" shape-rendering="auto" id="Rectangle_184" rx="0" ry="0" x="0" y="0" width="651" height="448">
		</rect>
	</svg>
	<div id="Analysis_Results_">
		<span>Analysis Results:</span>
	</div>
	<div onclick="application.goToTargetView(event)" id="RETURN_TO_HOMEPAGE">
		<span>RETURN TO HOMEPAGE</span>
	</div>
	<img id="Group_337_2x" src="Group_337_2x.png" srcset="Group_337_2x.png 1x, Group_337_2x@2x.png 2x">
	<div id="The_statistics_that_will_blow_">
		<span>The statistics that will blow your mind:</span>
	</div>
	<svg class="Rectangle_185">
		<rect fill="rgba(255,255,255,1)" stroke="rgba(112,112,112,1)" stroke-width="1px" stroke-linejoin="miter" stroke-linecap="round" stroke-miterlimit="4" shape-rendering="auto" id="Rectangle_185" rx="36" ry="36" x="0" y="0" width="824" height="750">
		</rect>
	</svg>
	<div id="ID0__kWh_in_1_month_and">
		<span id="BestRoofEnergyPerMonth">0 </span><br><span style="font-size:30px;color:rgba(141,143,112,1);"></span><span style="font-size:37px;color:rgba(141,143,112,1);">k</span><span style="font-size:37px;color:rgba(141,143,112,1);">Wh in 1 month</span><span style="font-size:37px;color:rgba(141,143,112,1);"> and</span>
	</div>
	<svg class="Rectangle_186">
		<rect fill="rgba(255,255,255,1)" stroke="rgba(112,112,112,1)" stroke-width="1px" stroke-linejoin="miter" stroke-linecap="round" stroke-miterlimit="4" shape-rendering="auto" id="Rectangle_186" rx="36" ry="36" x="0" y="0" width="850" height="725">
		</rect>
	</svg>
	<div id="Need_more_power_">
		<span>Need more power?</span>
	</div>
	<svg class="Line_1" viewBox="0 0 1 449">
		<path fill="transparent" stroke="rgba(112,112,112,1)" stroke-width="1px" stroke-linejoin="miter" stroke-linecap="butt" stroke-miterlimit="4" shape-rendering="auto" id="Line_1" d="M 0 0 L 0 449">
		</path>
	</svg>
	<div id="ID0000__kWh_generated_in_a_day">
		<span id='BestRoofEnergyPerDay'>0000 </span><br><span style="font-size:26px;color:rgba(141,143,112,1);">kWh generated in a day </span>
	</div>
	<div id="By_using_a_1_panel_system__you">
		<span>By using a 1-panel system, you will get :</span><br>
	</div>
	<div id="ID0__kWh_in_a_year_">
		<table>
		<tr><td><span id='BestRoofEnergyPerYear'>0 </span><br><span style="font-size:27px;color:rgba(141,143,112,1);"></span><span style="font-size:37px;color:rgba(141,143,112,1);">k</span><span style="font-size:37px;color:rgba(141,143,112,1);">Wh in a year</span><span style="font-size:37px;color:rgba(141,143,112,1);"></span>
		</td>
		<span>
		</tr>
		<tr>
		<td><img id="BestRoofPlacement" src="" width="384" height="320" style="position:relative"></td>
		</tr>
		</span>
		</table>
	</div>
	<div id="Using_a_4_Panel_System_will_gi">
		<span>Using a Multipanel System will give you these results:</span><br>
	</div>
	<div id="ID0__kWh_in_1_month_and_z">
		<span id="TotalEnergyPerMonth">0 </span><br><span style="font-size:30px;color:rgba(141,143,112,1);"></span><span style="font-size:37px;color:rgba(141,143,112,1);">k</span><span style="font-size:37px;color:rgba(141,143,112,1);">Wh in 1 month</span><span style="font-size:37px;color:rgba(141,143,112,1);"> and</span>
	</div>
	<div id="ID0__kWh_in_a_year__">
		<table>
		<tr><td><span id="TotalEnergyPerYear">0 </span><br><span style="font-size:27px;color:rgba(141,143,112,1);"></span><span style="font-size:37px;color:rgba(141,143,112,1);">k</span><span style="font-size:37px;color:rgba(141,143,112,1);">Wh in a year</span><span style="font-size:37px;color:rgba(141,143,112,1);"> </span>
		</td>
		</tr>
		<tr>
		<td>
			<img id="SolarPanelPlacement" src="" width="384" height="320" style="position:relative">
		</td>
		</tr>
		</table>
	</div>
	<div id="ID0000__Maximum_kWh_in_a_day__">
		<span id ='TotalEnergyPerDay'>0000 </span><br><span style="font-size:26px;color:rgba(141,143,112,1);">Maximum kWh in a day (Multipanel system)</span>
	</div>

</div>
<script>
	async function getAllInfo(){
		const latitude = localStorage.getItem('lat')
		const longitude = localStorage.getItem('lon')
		document.getElementById("Rectangle_183").src = "https://maps.googleapis.com/maps/api/staticmap?center="+latitude+","+longitude+"&zoom=20&size=1250x448&maptype=hybrid&key=AIzaSyActbEbfItE7AM9xjZSlOggz7YvwYP_6I8"
		const resp = await fetch('http://34.237.22.22:7500/api/v1/solarpanel?latitude='+latitude+'&'+'longitude='+longitude, {
			method: 'GET',
			mode: 'cors'
		});
		return resp.json()
	}
	async function loadAllInfo(){
		const res = await getAllInfo()
		console.log(res)
		if (res.status == 200){
			document.getElementById('BestRoofEnergyPerDay').innerHTML = res.BestRoofEnergyPerDay
			document.getElementById('TotalEnergyPerDay').innerHTML = res.TotalEnergyPerDay
			document.getElementById('BestRoofEnergyPerMonth').innerHTML = res.BestRoofEnergyPerMonth
			document.getElementById('BestRoofEnergyPerYear').innerHTML = res.BestRoofEnergyPerYear
			document.getElementById('TotalEnergyPerMonth').innerHTML = res.TotalEnergyPerMonth
			document.getElementById('TotalEnergyPerYear').innerHTML = res.TotalEnergyPerYear
			document.getElementById('BestRoofPlacement').src = "data:image/png;base64,"+res.BestRoofPlacement
			document.getElementById('SolarPanelPlacement').src= "data:image/png;base64,"+res.SolarPanelPlacement
		}
		
	}
</script>
</body>
</html>